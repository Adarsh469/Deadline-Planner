(()=>{var e={};e.id=996,e.ids=[996],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},15206:e=>{"use strict";e.exports=require("zlib")},24904:()=>{},61987:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>R,patchFetch:()=>S,requestAsyncStorage:()=>v,routeModule:()=>E,serverHooks:()=>x,staticGenerationAsyncStorage:()=>_});var s={};r.r(s),r.d(s,{GET:()=>d});var i=r(49303),o=r(88716),n=r(60670),a=r(75571),c=r(90455),u=r(83493),p=r(31402),l=r(57435);async function d(){try{let e=await (0,a.getServerSession)(c.L),t=e?.user?.id;if(!t)return(0,p.w)({error:"Unauthorized"},{status:401});let r=await u._.notification.findMany({where:{userId:t},orderBy:{createdAt:"desc"},take:50});return(0,p.w)({data:r},{cacheControl:"private, max-age=15, stale-while-revalidate=30"})}catch(e){return(0,l.H)("notifications.get.failed",{error:String(e)}),(0,p.w)({error:"Internal server error"},{status:500})}}let E=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/notifications/route",pathname:"/api/notifications",filename:"route",bundlePath:"app/api/notifications/route"},resolvedPagePath:"/home/adarsh/Documents/New_folder/Deadline Planner/app/api/notifications/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:_,serverHooks:x}=E,R="/api/notifications/route";function S(){return(0,n.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:_})}},90455:(e,t,r)=>{"use strict";r.d(t,{L:()=>c});var s=r(14029),i=r(77234),o=r(13539),n=r(83493);let a=[];process.env.EMAIL_SERVER_HOST&&process.env.EMAIL_SERVER_PORT&&process.env.EMAIL_SERVER_USER&&process.env.EMAIL_SERVER_PASSWORD&&process.env.EMAIL_FROM&&a.push((0,s.Z)({server:{host:process.env.EMAIL_SERVER_HOST,port:Number(process.env.EMAIL_SERVER_PORT),auth:{user:process.env.EMAIL_SERVER_USER,pass:process.env.EMAIL_SERVER_PASSWORD}},from:process.env.EMAIL_FROM})),process.env.GOOGLE_CLIENT_ID&&process.env.GOOGLE_CLIENT_SECRET&&a.push((0,i.Z)({clientId:process.env.GOOGLE_CLIENT_ID,clientSecret:process.env.GOOGLE_CLIENT_SECRET}));let c={adapter:(0,o.N)(n._),providers:a,session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id),e)}}},31402:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var s=r(87070);function i(e,t){let r={};return t?.cacheControl&&(r["Cache-Control"]=t.cacheControl),s.NextResponse.json(e,{status:t?.status??200,headers:r})}},57435:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});let s=(e,t)=>(function(e,t,r){let s={level:e,message:t,...r?{meta:r}:{}};console[e](JSON.stringify(s))})("error",e,t)},83493:(e,t,r)=>{"use strict";r.d(t,{_:()=>i});let s=require("@prisma/client"),i=global.prisma??new s.PrismaClient({log:["error"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972,65],()=>r(61987));module.exports=s})();